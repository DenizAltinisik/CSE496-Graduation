{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jamai\\\\Desktop\\\\CSE 496 Bitirme\\\\proje 2\\\\frontend\\\\src\\\\components\\\\MessageFeedback.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageFeedback = ({\n  chatId,\n  messageIndex,\n  currentFeedback,\n  onFeedbackUpdate\n}) => {\n  _s();\n  const [showMoreOptions, setShowMoreOptions] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleFeedback = async feedbackType => {\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n    try {\n      const response = await axios.post(`/api/chat/${chatId}/message/${messageIndex}/feedback`, {\n        feedback_type: feedbackType\n      });\n      if (response.data.success) {\n        onFeedbackUpdate(messageIndex, response.data.feedback);\n        setShowMoreOptions(false);\n      }\n    } catch (error) {\n      console.error('Error sending feedback:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const removeFeedback = async () => {\n    if (isSubmitting) return;\n    setIsSubmitting(true);\n    try {\n      const response = await axios.delete(`/api/chat/${chatId}/message/${messageIndex}/feedback`);\n      if (response.data.success) {\n        onFeedbackUpdate(messageIndex, null);\n        setShowMoreOptions(false);\n      }\n    } catch (error) {\n      console.error('Error removing feedback:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const getFeedbackIcon = feedbackType => {\n    const icons = {\n      thumbs_up: '👍',\n      thumbs_down: '👎',\n      love: '❤️',\n      funny: '😄',\n      meaningless: '😐',\n      offensive: '😠'\n    };\n    return icons[feedbackType] || '';\n  };\n  const getFeedbackLabel = feedbackType => {\n    const labels = {\n      thumbs_up: 'Like',\n      thumbs_down: 'Dislike',\n      love: 'Love',\n      funny: 'Funny',\n      meaningless: 'Meaningless',\n      offensive: 'Offensive'\n    };\n    return labels[feedbackType] || '';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-feedback-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feedback-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `feedback-btn ${(currentFeedback === null || currentFeedback === void 0 ? void 0 : currentFeedback.type) === 'thumbs_up' ? 'active' : ''}`,\n        onClick: () => handleFeedback('thumbs_up'),\n        disabled: isSubmitting,\n        title: \"Like\",\n        children: \"\\uD83D\\uDC4D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `feedback-btn ${(currentFeedback === null || currentFeedback === void 0 ? void 0 : currentFeedback.type) === 'thumbs_down' ? 'active' : ''}`,\n        onClick: () => handleFeedback('thumbs_down'),\n        disabled: isSubmitting,\n        title: \"Dislike\",\n        children: \"\\uD83D\\uDC4E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"feedback-btn more-options\",\n        onClick: () => setShowMoreOptions(!showMoreOptions),\n        disabled: isSubmitting,\n        title: \"More options\",\n        children: \"\\u22EF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), showMoreOptions && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"more-options-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-header\",\n        children: \"What do you think about this reply?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `option-btn ${(currentFeedback === null || currentFeedback === void 0 ? void 0 : currentFeedback.type) === 'love' ? 'active' : ''}`,\n          onClick: () => handleFeedback('love'),\n          disabled: isSubmitting,\n          children: \"\\u2764\\uFE0F Love\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `option-btn ${(currentFeedback === null || currentFeedback === void 0 ? void 0 : currentFeedback.type) === 'funny' ? 'active' : ''}`,\n          onClick: () => handleFeedback('funny'),\n          disabled: isSubmitting,\n          children: \"\\uD83D\\uDE04 Funny\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `option-btn ${(currentFeedback === null || currentFeedback === void 0 ? void 0 : currentFeedback.type) === 'meaningless' ? 'active' : ''}`,\n          onClick: () => handleFeedback('meaningless'),\n          disabled: isSubmitting,\n          children: \"\\uD83D\\uDE10 Meaningless\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `option-btn ${(currentFeedback === null || currentFeedback === void 0 ? void 0 : currentFeedback.type) === 'offensive' ? 'active' : ''}`,\n          onClick: () => handleFeedback('offensive'),\n          disabled: isSubmitting,\n          children: \"\\uD83D\\uDE20 Offensive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), currentFeedback && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"remove-feedback-btn\",\n          onClick: removeFeedback,\n          disabled: isSubmitting,\n          children: \"\\uD83D\\uDDD1\\uFE0F Remove feedback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageFeedback, \"Ei3o4gZqLXtW/bx4IuK3mRMECh0=\");\n_c = MessageFeedback;\nexport default MessageFeedback;\nvar _c;\n$RefreshReg$(_c, \"MessageFeedback\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","MessageFeedback","chatId","messageIndex","currentFeedback","onFeedbackUpdate","_s","showMoreOptions","setShowMoreOptions","isSubmitting","setIsSubmitting","handleFeedback","feedbackType","response","post","feedback_type","data","success","feedback","error","console","removeFeedback","delete","getFeedbackIcon","icons","thumbs_up","thumbs_down","love","funny","meaningless","offensive","getFeedbackLabel","labels","className","children","type","onClick","disabled","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Jamai/Desktop/CSE 496 Bitirme/proje 2/frontend/src/components/MessageFeedback.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst MessageFeedback = ({ chatId, messageIndex, currentFeedback, onFeedbackUpdate }) => {\n  const [showMoreOptions, setShowMoreOptions] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleFeedback = async (feedbackType) => {\n    if (isSubmitting) return;\n    \n    setIsSubmitting(true);\n    try {\n      const response = await axios.post(\n        `/api/chat/${chatId}/message/${messageIndex}/feedback`,\n        { feedback_type: feedbackType }\n      );\n      \n      if (response.data.success) {\n        onFeedbackUpdate(messageIndex, response.data.feedback);\n        setShowMoreOptions(false);\n      }\n    } catch (error) {\n      console.error('Error sending feedback:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const removeFeedback = async () => {\n    if (isSubmitting) return;\n    \n    setIsSubmitting(true);\n    try {\n      const response = await axios.delete(\n        `/api/chat/${chatId}/message/${messageIndex}/feedback`\n      );\n      \n      if (response.data.success) {\n        onFeedbackUpdate(messageIndex, null);\n        setShowMoreOptions(false);\n      }\n    } catch (error) {\n      console.error('Error removing feedback:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getFeedbackIcon = (feedbackType) => {\n    const icons = {\n      thumbs_up: '👍',\n      thumbs_down: '👎',\n      love: '❤️',\n      funny: '😄',\n      meaningless: '😐',\n      offensive: '😠'\n    };\n    return icons[feedbackType] || '';\n  };\n\n  const getFeedbackLabel = (feedbackType) => {\n    const labels = {\n      thumbs_up: 'Like',\n      thumbs_down: 'Dislike',\n      love: 'Love',\n      funny: 'Funny',\n      meaningless: 'Meaningless',\n      offensive: 'Offensive'\n    };\n    return labels[feedbackType] || '';\n  };\n\n  return (\n    <div className=\"message-feedback-container\">\n      {/* Always visible feedback buttons */}\n      <div className=\"feedback-buttons\">\n        <button\n          className={`feedback-btn ${currentFeedback?.type === 'thumbs_up' ? 'active' : ''}`}\n          onClick={() => handleFeedback('thumbs_up')}\n          disabled={isSubmitting}\n          title=\"Like\"\n        >\n          👍\n        </button>\n        \n        <button\n          className={`feedback-btn ${currentFeedback?.type === 'thumbs_down' ? 'active' : ''}`}\n          onClick={() => handleFeedback('thumbs_down')}\n          disabled={isSubmitting}\n          title=\"Dislike\"\n        >\n          👎\n        </button>\n        \n        <button\n          className=\"feedback-btn more-options\"\n          onClick={() => setShowMoreOptions(!showMoreOptions)}\n          disabled={isSubmitting}\n          title=\"More options\"\n        >\n          ⋯\n        </button>\n      </div>\n      \n      {/* More options dropdown */}\n      {showMoreOptions && (\n        <div className=\"more-options-dropdown\">\n          <div className=\"dropdown-header\">\n            What do you think about this reply?\n          </div>\n          \n          <div className=\"dropdown-options\">\n            <button\n              className={`option-btn ${currentFeedback?.type === 'love' ? 'active' : ''}`}\n              onClick={() => handleFeedback('love')}\n              disabled={isSubmitting}\n            >\n              ❤️ Love\n            </button>\n            \n            <button\n              className={`option-btn ${currentFeedback?.type === 'funny' ? 'active' : ''}`}\n              onClick={() => handleFeedback('funny')}\n              disabled={isSubmitting}\n            >\n              😄 Funny\n            </button>\n            \n            <button\n              className={`option-btn ${currentFeedback?.type === 'meaningless' ? 'active' : ''}`}\n              onClick={() => handleFeedback('meaningless')}\n              disabled={isSubmitting}\n            >\n              😐 Meaningless\n            </button>\n            \n            <button\n              className={`option-btn ${currentFeedback?.type === 'offensive' ? 'active' : ''}`}\n              onClick={() => handleFeedback('offensive')}\n              disabled={isSubmitting}\n            >\n              😠 Offensive\n            </button>\n          </div>\n          \n          {currentFeedback && (\n            <div className=\"dropdown-actions\">\n              <button\n                className=\"remove-feedback-btn\"\n                onClick={removeFeedback}\n                disabled={isSubmitting}\n              >\n                🗑️ Remove feedback\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessageFeedback;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}